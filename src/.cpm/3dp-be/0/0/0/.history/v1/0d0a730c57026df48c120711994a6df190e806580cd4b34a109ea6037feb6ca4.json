{"schema_version": 1, "created_at": "2026-01-31T00:22:16.558975Z", "cache_key": "sha256:0d0a730c57026df48c120711994a6df190e806580cd4b34a109ea6037feb6ca4", "command": {"args_canonical": {"cmd": "cpm.query", "packet_arg": "3dp-be", "packet_dir": ".cpm/3dp-be/0/0/0", "query": "endpo√¨nt startPrint", "k": 5, "cpm_dir": ".cpm", "embedding_model": "jinaai/jina-embeddings-v2-base-code", "max_seq_length": 1024, "normalize": true, "schema_version": 1}}, "environment": {"packet_dir": ".cpm/3dp-be/0/0/0"}, "payload": {"results": [{"rank": 1, "score": 0.49563267827033997, "faiss_idx": 355, "doc": {"id": "src/main/java/it/aredegalli/printer/service/rendering/PreviewSTLService.java:java:0", "text": "package it.aredegalli.printer.service.rendering;", "metadata": {"source_id": "src/main/java/it/aredegalli/printer/service/rendering/PreviewSTLService.java", "ext": ".java", "lang": "java", "chunker": "java", "package": "package it.aredegalli.printer.service.rendering;", "preamble": true, "block_count": 1, "blocks_meta": [{"kind": "preamble", "lang": "java", "level": "parent", "package": "package it.aredegalli.printer.service.rendering;", "import_count": 0}], "path": "src/main/java/it/aredegalli/printer/service/rendering/PreviewSTLService.java"}}}, {"rank": 2, "score": 0.38547372817993164, "faiss_idx": 459, "doc": {"id": "target/generated-sources/annotations/it/aredegalli/printer/mapper/printer/PrinterMapperImpl.java:java:0", "text": "package it.aredegalli.printer.mapper.printer;\n\nimport it.aredegalli.printer.dto.printer.PrinterDto;\nimport it.aredegalli.printer.model.printer.Printer;\nimport it.aredegalli.printer.model.printer.PrinterStatus;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.annotation.processing.Generated;\nimport org.springframework.stereotype.Component;", "metadata": {"source_id": "target/generated-sources/annotations/it/aredegalli/printer/mapper/printer/PrinterMapperImpl.java", "ext": ".java", "lang": "java", "chunker": "java", "package": "package it.aredegalli.printer.mapper.printer;", "preamble": true, "block_count": 1, "blocks_meta": [{"kind": "preamble", "lang": "java", "level": "parent", "package": "package it.aredegalli.printer.mapper.printer;", "import_count": 7}], "path": "target/generated-sources/annotations/it/aredegalli/printer/mapper/printer/PrinterMapperImpl.java"}}}, {"rank": 3, "score": 0.36639654636383057, "faiss_idx": 404, "doc": {"id": "src/main/java/it/aredegalli/printer/service/kafka/control/status/PrinterStatusControlServiceImpl.java:java:0", "text": "package it.aredegalli.printer.service.kafka.control.status;\n\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterPauseRequestDto;\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterStartRequestDto;\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterStopRequestDto;\nimport it.aredegalli.printer.enums.kafka.KafkaTopicEnum;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.SendResult;\nimport org.springframework.stereotype.Service;\n\nimport java.util.concurrent.CompletableFuture;\n\n@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class PrinterStatusControlServiceImpl implements PrinterStatusControlService {\n    // ... members ...\n}\n\n// ... code ...\n\nprivate final KafkaTemplate<String, Object> kafkaTemplate;\n@Override()\n    public CompletableFuture<SendResult<String, Object>> startPrint(PrinterStartRequestDto request) {\n        log.info(\"Starting printing for printer connected to driver id: {}\", request.getDriverId());\n        return this.kafkaTemplate.send(KafkaTopicEnum.PRINTER_START_REQUEST.getTopicName(), request.getDriverId(), request)\n                .whenComplete((result, ex) -> {\n                    if (ex == null) {\n                        log.info(\"Printer start request sent successfully: offset={}\", result.getRecordMetadata().offset());\n                    } else {\n                        log.error(\"Failed to send printer start request\", ex);\n                    }\n                });\n    }\n@Override()\n    public CompletableFuture<SendResult<String, Object>> stopPrint(PrinterStopRequestDto request) {\n        log.info(\"Stopping printing for printer connected to driver id: {}\", request.getDriverId());\n        return this.kafkaTemplate.send(KafkaTopicEnum.PRINTER_STOP_REQUEST.getTopicName(), request.getDriverId(), request)\n                .whenComplete((result, ex) -> {\n                    if (ex == null) {\n                        log.info(\"Printer stop request sent successfully: offset={}\", result.getRecordMetadata().offset());\n                    } else {\n                        log.error(\"Failed to send printer stop request\", ex);\n                    }\n                });\n    }\n@Override()\n    public CompletableFuture<SendResult<String, Object>> pausePrint(PrinterPauseRequestDto request) {\n        log.info(\"Pausing printing for printer connected to driver id: {}\", request.getDriverId());\n        return this.kafkaTemplate.send(KafkaTopicEnum.PRINTER_PAUSE_REQUEST.getTopicName(), request.getDriverId(), request)\n                .whenComplete((result, ex) -> {\n                    if (ex == null) {\n                        log.info(\"Printer pausing request sent successfully: offset={}\", result.getRecordMetadata().offset());\n                    } else {\n                        log.error(\"Failed to send printer pausing request\", ex);\n                    }\n                });\n    }", "metadata": {"source_id": "src/main/java/it/aredegalli/printer/service/kafka/control/status/PrinterStatusControlServiceImpl.java", "ext": ".java", "lang": "java", "chunker": "java", "package": "package it.aredegalli.printer.service.kafka.control.status;", "block_count": 4, "blocks_meta": [{"kind": "symbol_child", "node_type": "field_declaration", "symbol": "kafkaTemplate", "qualified_name": "PrinterStatusControlServiceImpl.kafkaTemplate", "symbol_class": "unknown", "lang": "java", "line_start": 20, "line_end": 20, "level": "child", "parent_id": "src/main/java/it/aredegalli/printer/service/kafka/control/status/PrinterStatusControlServiceImpl.java:java:field_declaration:PrinterStatusControlServiceImpl.kafkaTemplate:20-20", "annotations": [], "has_javadoc": false, "child_index": 0, "_class_context": "@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class PrinterStatusControlServiceImpl implements PrinterStatusControlService {\n    // ... members ...\n}", "_file_header": "package it.aredegalli.printer.service.kafka.control.status;\n\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterPauseRequestDto;\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterStartRequestDto;\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterStopRequestDto;\nimport it.aredegalli.printer.enums.kafka.KafkaTopicEnum;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.SendResult;\nimport org.springframework.stereotype.Service;\n\nimport java.util.concurrent.CompletableFuture;"}, {"kind": "symbol_child", "node_type": "method_declaration", "symbol": "startPrint", "qualified_name": "PrinterStatusControlServiceImpl.startPrint", "symbol_class": "method", "lang": "java", "line_start": 22, "line_end": 34, "level": "child", "parent_id": "src/main/java/it/aredegalli/printer/service/kafka/control/status/PrinterStatusControlServiceImpl.java:java:method_declaration:PrinterStatusControlServiceImpl.startPrint:22-34", "annotations": [], "has_javadoc": false, "child_index": 0, "_class_context": "@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class PrinterStatusControlServiceImpl implements PrinterStatusControlService {\n    // ... members ...\n}", "_file_header": "package it.aredegalli.printer.service.kafka.control.status;\n\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterPauseRequestDto;\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterStartRequestDto;\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterStopRequestDto;\nimport it.aredegalli.printer.enums.kafka.KafkaTopicEnum;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.SendResult;\nimport org.springframework.stereotype.Service;\n\nimport java.util.concurrent.CompletableFuture;"}, {"kind": "symbol_child", "node_type": "method_declaration", "symbol": "stopPrint", "qualified_name": "PrinterStatusControlServiceImpl.stopPrint", "symbol_class": "method", "lang": "java", "line_start": 36, "line_end": 48, "level": "child", "parent_id": "src/main/java/it/aredegalli/printer/service/kafka/control/status/PrinterStatusControlServiceImpl.java:java:method_declaration:PrinterStatusControlServiceImpl.stopPrint:36-48", "annotations": [], "has_javadoc": false, "child_index": 0, "_class_context": "@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class PrinterStatusControlServiceImpl implements PrinterStatusControlService {\n    // ... members ...\n}", "_file_header": "package it.aredegalli.printer.service.kafka.control.status;\n\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterPauseRequestDto;\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterStartRequestDto;\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterStopRequestDto;\nimport it.aredegalli.printer.enums.kafka.KafkaTopicEnum;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.SendResult;\nimport org.springframework.stereotype.Service;\n\nimport java.util.concurrent.CompletableFuture;"}, {"kind": "symbol_child", "node_type": "method_declaration", "symbol": "pausePrint", "qualified_name": "PrinterStatusControlServiceImpl.pausePrint", "symbol_class": "method", "lang": "java", "line_start": 50, "line_end": 62, "level": "child", "parent_id": "src/main/java/it/aredegalli/printer/service/kafka/control/status/PrinterStatusControlServiceImpl.java:java:method_declaration:PrinterStatusControlServiceImpl.pausePrint:50-62", "annotations": [], "has_javadoc": false, "child_index": 0, "_class_context": "@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class PrinterStatusControlServiceImpl implements PrinterStatusControlService {\n    // ... members ...\n}", "_file_header": "package it.aredegalli.printer.service.kafka.control.status;\n\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterPauseRequestDto;\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterStartRequestDto;\nimport it.aredegalli.printer.dto.kafka.control.status.PrinterStopRequestDto;\nimport it.aredegalli.printer.enums.kafka.KafkaTopicEnum;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.SendResult;\nimport org.springframework.stereotype.Service;\n\nimport java.util.concurrent.CompletableFuture;"}], "path": "src/main/java/it/aredegalli/printer/service/kafka/control/status/PrinterStatusControlServiceImpl.java"}}}, {"rank": 4, "score": 0.3641277551651001, "faiss_idx": 351, "doc": {"id": "src/main/java/it/aredegalli/printer/service/printer/PrinterService.java:java:0", "text": "package it.aredegalli.printer.service.printer;\n\nimport it.aredegalli.printer.dto.printer.PrinterCreateDto;\nimport it.aredegalli.printer.dto.printer.PrinterDto;\nimport it.aredegalli.printer.dto.printer.PrinterFilterDto;\n\nimport java.util.List;\nimport java.util.UUID;", "metadata": {"source_id": "src/main/java/it/aredegalli/printer/service/printer/PrinterService.java", "ext": ".java", "lang": "java", "chunker": "java", "package": "package it.aredegalli.printer.service.printer;", "preamble": true, "block_count": 1, "blocks_meta": [{"kind": "preamble", "lang": "java", "level": "parent", "package": "package it.aredegalli.printer.service.printer;", "import_count": 5}], "path": "src/main/java/it/aredegalli/printer/service/printer/PrinterService.java"}}}, {"rank": 5, "score": 0.35182249546051025, "faiss_idx": 295, "doc": {"id": "src/main/java/it/aredegalli/printer/repository/view/RunningJobsPerPrinterRepository.java:java:0", "text": "package it.aredegalli.printer.repository.view;\n\nimport it.aredegalli.printer.model.view.RunningJobsPerPrinter;\nimport it.aredegalli.printer.repository.UUIDRepository;", "metadata": {"source_id": "src/main/java/it/aredegalli/printer/repository/view/RunningJobsPerPrinterRepository.java", "ext": ".java", "lang": "java", "chunker": "java", "package": "package it.aredegalli.printer.repository.view;", "preamble": true, "block_count": 1, "blocks_meta": [{"kind": "preamble", "lang": "java", "level": "parent", "package": "package it.aredegalli.printer.repository.view;", "import_count": 2}], "path": "src/main/java/it/aredegalli/printer/repository/view/RunningJobsPerPrinterRepository.java"}}}], "query_vec": null, "result_vecs": null}}